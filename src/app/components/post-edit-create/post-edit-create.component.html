@if (displayModal) {
<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true">

  <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

  <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
    <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
      <div
        class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">
        <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
          <div class="sm:flex sm:items-start">
            <form [formGroup]="postForm" class="mt-3 text-left w-full">
              <h1 class="text-base font-semibold leading-6 text-gray-900" id="modal-title">{{ isEdit ? 'Editar publicación' : 'Crear nueva publicación'}}</h1>
              <div class="mt-2 w-full">
                <label>Titulo</label>
                <input
                  type="text"
                  class="w-full px-4 py-2 border rounded-md focus:outline-none focus:border-purple-500"
                  placeholder="Titulo"
                  formControlName="title"
                  maxlength="100"
                >
                <div class="text-gray-500 text-end">
                  <small>
                    {{ postForm.get('title')?.value?.length || 0 }} / 100
                  </small>
                </div>
              </div>
              <div class="mt-2 w-full">
                <label>Contenido</label>
                <textarea
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:border-purple-500"
                placeholder="Escribe aquí..."
                rows="4"
                formControlName="content"
                maxlength="100"
              >
              </textarea>
              <div class="text-gray-500 text-end">
                <small>
                  {{ postForm.get('content')?.value?.length || 0 }} / 100
                </small>
              </div>
              </div>
            </form>
          </div>
        </div>
        <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
          @if (isEdit) {

            <button type="button"
              class="inline-flex w-full justify-center rounded-md bg-purple-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-purple-500 sm:ml-3 sm:w-auto"
              (click)="updatePost()" [disabled]="!postForm.valid">Editar</button>
          }@else {

            <button type="button"
              class="inline-flex w-full justify-center rounded-md bg-purple-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-purple-500 sm:ml-3 sm:w-auto"
              (click)="createPost()" [disabled]="!postForm.valid">Crear</button>
          }
          <button type="button"
            class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"
            (click)="cerrar()">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>
}
